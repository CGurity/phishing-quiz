if (self.CavalryLogger) { CavalryLogger.start_js(["QOjEL"]); }

__d("FullScreen",["Event","Arbiter","CSS","UserAgent","UserAgent_DEPRECATED","throttle","Keys"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=false,j=function j(o){if(c("Event").getKeyCode(o)===c("Keys").ESC)o.stopPropagation()},k=function k(){if(!i){document.addEventListener("keydown",j,true);i=true}},l=function l(){if(i){document.removeEventListener("keydown",j,true);i=false}},m=Object.assign(new(c("Arbiter"))(),{listenForEvent:function o(p){var n=c("throttle")(this.onChange,0,this);if(!h[p.id]){h[p.id]=true;c("Event").listen(p,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n})}},enableFullScreen:function o(p){__p&&__p();this.listenForEvent(p);if(p.webkitRequestFullScreen)if(c("UserAgent_DEPRECATED").chrome())p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);else p.webkitRequestFullScreen();else if(p.mozRequestFullScreen)p.mozRequestFullScreen();else if(p.msRequestFullscreen){k();p.msRequestFullscreen()}else if(p.requestFullScreen)p.requestFullScreen();else return false;return true},disableFullScreen:function o(){__p&&__p();if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.exitFullScreen)document.exitFullScreen();else return false;return true},isFullScreen:function o(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement},toggleFullScreen:function o(p){if(this.isFullScreen()){this.disableFullScreen();return false}else return this.enableFullScreen(p)},onChange:function o(){var p=this.isFullScreen();c("CSS").conditionClass(document.body,"fullScreen",p);this.inform("changed");if(!p)l()},isSupportedWithKeyboardInput:function o(){return this.isSupported()&&!c("UserAgent").isBrowser("Safari")},isSupported:function o(){var p=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return p||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen}}),n=c("throttle")(m.onChange,0,m);c("Event").listen(document,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n});f.exports=m}),null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","BanzaiScuba","CSS","Event","getDocumentScrollElement","queryThenMutateDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=document.documentElement,i,j,k,l,m=false,n=false,o=false,p=false,q={init:function r(s){__p&&__p();var t=c("queryThenMutateDOM").bind(null,function(){l=l||c("getDocumentScrollElement")();j=h.clientWidth<l.scrollWidth-1;k=h.clientHeight<400;i=k||j},function(){__p&&__p();if(i!==m||j!==n||k!==o){c("CSS").conditionClass(h,"tinyViewport",i);c("CSS").conditionClass(h,"tinyWidth",j);c("CSS").conditionClass(h,"tinyHeight",k);c("CSS").conditionClass(h,"canHaveFixedElements",!i);q.inform("change",i);c("Arbiter").inform("tinyViewport/change",{tiny:i,tinyWidth:j,tinyHeight:k},c("Arbiter").BEHAVIOR_STATE);m=i;n=j;o=k}if(!p){var u=new(c("BanzaiScuba"))("www_tinyview_port",null,{addBrowserFields:true});u.addInteger("clientWidth",h.clientWidth);u.addInteger("clientHeight",h.clientHeight);u.addNormal("view",i?"tiny":"normal");u.post();p=true}},"TinyViewport");t();c("Arbiter").subscribe("quickling/response",t);c("Event").listen(window,"resize",t)},isTiny:function r(){return i},isTinyWidth:function r(){return j},isTinyHeight:function r(){return k}};Object.assign(q,c("ArbiterMixin"));f.exports=q}),null);
__d("VideoFrameBuffer",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){"use strict";this.$VideoFrameBuffer2=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer3=k||"contain"}h.prototype.updateFrameBuffer=function(){"use strict";__p&&__p();if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer1.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer1.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null}var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer2.videoWidth/this.$VideoFrameBuffer2.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==="cover"){n*=-1;m*=-1}if(n>m)k=l*m;else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext("2d");if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer2,(i-k)/2,(j-l)/2,k,l)};h.prototype.getDOMNode=function(){"use strict";return this.$VideoFrameBuffer1};h.prototype.updateDimensions=function(i,j){"use strict";this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j};f.exports=h}),null);
__d("enumerate",[],(function a(b,c,d,e,f,g){"use strict";f.exports=function(b){return b.FB_enumerate}(b)}),null);
__d("PublishingToolsSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADS_CANVAS_LANDING_PAGE:"ads_canvas_landing_page",COPYRIGHT_MATCH_PERMALINK:"copyright_match_permalink",DRAFTS_POSTS_TIMELINE_PAGELET:"draft_timeline_pagelet",EXPIRING_POSTS_TIMELINE_PAGELET:"expiring_timeline_pagelet",IA_URL_GROWTH_QP:"ia_url_growth_qp",NOTIFICATION:"notif",OPTIMISTIC_VIDEO_POST:"optimistic_video_post",PAGES_MANAGER_BAR:"pages_manager_bar",PAYMENT_SETTINGS_HEADER:"payment_settings_header",SCHEDULED_POSTS_TIMELINE_PAGELET:"scheduled_timeline_pagelet",UNKNOWN:"unknown",VIDEO_ASSET_INSIGHTS_PERMALINK:"video_asset_insights_permalink",VIDEO_EDIT_PERMALINK:"video_edit_permalink",VIDEO_INSIGHTS:"video_insights",VIDEO_LIBRARY_MEGAPHONE:"video_library_megaphone",VIDEO_UPLOAD_CONFIRMATION_DIALOG:"video_upload_confirmation_dialog",VIDEO_UPLOAD_NOTIF:"video_upload_notif",VIDEOS_HUB:"videos_hub",VIDEOS_YOU_CAN_USE_TIMELINE_PAGELET:"crossposted_timeline_pagelet",LEAD_GEN_DOWNLOAD_DIALOG_FORMS_LIB:"lead_gen_download_dialog_forms_lib",LEAD_GEN_DOWNLOAD_DIALOG_NAM:"lead_gen_download_dialog_nam",LEAD_GEN_DOWNLOAD_DIALOG_NAM_LINK:"lead_gen_download_dialog_nam_link",LEAD_GEN_DOWNLOAD_DIALOG_PE:"lead_gen_download_dialog_pe",LEAD_GEN_DOWNLOAD_DIALOG_PE_LINK:"lead_gen_download_dialog_pe_link",LEAD_GEN_DOWNLOAD_DIALOG_OTHER:"lead_gen_download_dialog_other",LEAD_GEN_FORM_LIBRARY_NOTICE:"lead_gen_form_library_notice",LEAD_GEN_INLINE_FORM_SELECTOR:"lead_gen_inline_form_selector",LEAD_GEN_DOWNLOAD_DIALOG_CONNECT_CRM:"lead_gen_download_dialog_connect_crm",LEAD_GEN_ORGANIC:"lead_gen_organic",WWW_CHATBAR:"www_chatbar",PAGE_EVENTS_TAB:"page_events_tab",PAGES_QR_CODE_DOWNLOAD_AYMT:"pages_qr_code_download_aymt"})}),null);
__d("XVideoEditDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/dialog/",{video_id:{type:"Int"},source:{type:"Enum",enumType:1},story_dom_id:{type:"String"},timeline_identifier:{type:"String"},post_id:{type:"String"},video_asset_id:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);